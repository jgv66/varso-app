<form (ngSubmit)="buscarProductos()">
    <div class="row animated fadeIn">
        <div class="input-group mb-3 col-8">
            <input name="codigo" [(ngModel)]="codigo" type="text" class="form-control" placeholder="Indique código o descpción a buscar " aria-label="Indique código o descpción a buscar " aria-describedby="button-addon2 ">
            <!-- <div class="input-group-append ">
                <button class="btn btn-outline-secondary" type="button" id="button-addon2" (click)="buscarProductos()">Buscar</button>
            </div> -->
        </div>
        <div class="col-2">
            <button type="submit" class="btn btn-outline-dark mb-2">Rescatar datos</button>
        </div>
    </div>
</form>

<div class="progress " style="height: 8px; " *ngIf=" cargando ">
    <div class="progress-bar progress-bar-striped progress-bar-animated " role="progressbar " style="width: 100% " aria-valuenow="10 " aria-valuemin="0 " aria-valuemax="100 "></div>
</div>


<table class="table table-striped table-hover bg-dark" style="margin-bottom:0px;">
    <thead>
        <tr translate="no ">
            <!-- <th scope="col" style="width: 900px;">Descripción <br>
                <p style="font-size: 80%;">Código</p>
            </th> -->
            <th scope="col">Descripción y Código</th>
        </tr>
    </thead>
</table>
<div style="overflow:scroll; height:660px;">
    <table class="table table-striped table-hover">
        <tbody translate="no">
            <ng-container *ngFor="let data of codigos">
                <tr style="max-height: 80%;">
                    <td>{{data.DesProd }} <br>
                        <p style="font-size: 80%;">{{data.CodProd }}</p>
                    </td>
                    <td>
                        <button class="btn" [ngClass]="{ 'btn-secondary': abriendoDetalle !== data.CodProd,
                                                        'btn-warning'  : abriendoDetalle === data.CodProd
                                                        }" (click)="stockxLocal( data )" type="button" data-toggle="collapse" data-target="#collapseExample" aria-expanded="false" aria-controls="collapseExample">
                            Stock
                        </button>
                    </td>
                </tr>
                <tr *ngIf=" detalleAbierto === data.CodProd ">
                    <td>
                        <div class="card card-body">
                            <table class="table detail table-striped table-hover">
                                <thead>
                                    <tr class="bg-dark">
                                        <th scope="col">Local</th>
                                        <th scope="col">Descripción</th>
                                        <th scope="col">Ingresos</th>
                                        <th scope="col">Egresos</th>
                                        <th scope="col">Saldo</th>
                                        <!-- <th>&nbsp;</th> -->
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let data of data.stock">
                                        <td scope="row">{{data.CodBode}}</td>
                                        <td>{{data.DescCC }}</td>
                                        <td>{{data.Ingresos | number:"1.0-3"}}</td>
                                        <td>{{data.Egresos | number:"1.0-3"}}</td>
                                        <td>{{data.Stock | number:"1.0-3"}}</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </td>
                </tr>
            </ng-container>
        </tbody>
    </table>
</div>
<!-- 

    


 -->